"use strict";(self["webpackChunkapartment_rent"]=self["webpackChunkapartment_rent"]||[]).push([[576],{8396:function(e,t,a){a.d(t,{Ck:function(){return s},GW:function(){return c},MX:function(){return l},Mw:function(){return u},U3:function(){return o},UD:function(){return n},e4:function(){return i},e9:function(){return r},kL:function(){return d}});const n=e=>({hasPassed:!!e,message:"Будь ласка, заповніть це поле"}),s=e=>t=>({hasPassed:t.length<=e,message:"Ви перевищили ліміт"}),r=e=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e),message:"Невірна адреса пошти"}),l=e=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(e),message:"Пароль повинен містити одну цифру й один символ"}),o=e=>t=>({hasPassed:t.length<=e,message:"Ви перевищили ліміт"}),u=e=>t=>({hasPassed:t.length<=e,message:"Ви перевищили ліміт, можливо використати 300 символів"}),i=e=>t=>({hasPassed:t.length>=e,message:`Вкажіть більше ніж ${e} символ(а/ів)`}),d=e=>({hasPassed:/^\+?[\d\s\-()]{10,15}$/.test(e),message:"Невірний номер телефону"}),c=e=>{const t=Number(e);return{hasPassed:!isNaN(t)&&t>=1&&t<=20,message:"Число повинно бути від 1 до 20"}}},5356:function(e,t,a){a.d(t,{c:function(){return i}});var n=a(4108);const s={class:"auth-container"};function r(e,t,a,r,l,o){return(0,n.Wz)(),(0,n.An)("div",s,[(0,n.oF)(e.$slots,"default",{},void 0,!0)])}var l={name:"AuthContainer"},o=a(4100);const u=(0,o.c)(l,[["render",r],["__scopeId","data-v-7ce6f064"]]);var i=u},6852:function(e,t,a){a.d(t,{c:function(){return i}});var n=a(4108);const s={class:"auth-section"};function r(e,t,a,r,l,o){return(0,n.Wz)(),(0,n.An)("section",s,[(0,n.oF)(e.$slots,"default",{},void 0,!0)])}var l={name:"AuthSection"},o=a(4100);const u=(0,o.c)(l,[["render",r],["__scopeId","data-v-8ca09406"]]);var i=u},576:function(e,t,a){a.d(t,{c:function(){return d}});var n=a(4108),s=a(9096);const r=["type"];function l(e,t,a,l,o,u){return(0,n.Wz)(),(0,n.An)("button",(0,n.Gu)({type:a.type},e.$attrs,{class:[a.styleType],onClick:t[0]||(t[0]=(...e)=>u.handleClick&&u.handleClick(...e)),style:{height:a.height}}),(0,s.WA)(a.label),17,r)}var o={name:"ButtonVue",props:{type:{type:String,default:"button"},styleType:{type:String,default:"btn-dark"},label:{type:String,default:"Натисніть мене"},height:{type:String,default:"40px"}},methods:{handleClick(){}}},u=a(4100);const i=(0,u.c)(o,[["render",l],["__scopeId","data-v-bfb273a8"]]);var d=i},3656:function(e,t,a){a.d(t,{c:function(){return p}});var n=a(4108),s=a(9096);const r={class:"wrapper-input"},l=["value","placeholder"],o={key:0,class:"custom-input__error"};function u(e,t,a,u,i,d){return(0,n.Wz)(),(0,n.An)("div",r,[(0,n.QD)("input",(0,n.Gu)({value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>d.updateValue&&d.updateValue(...e)),onBlur:t[1]||(t[1]=(...e)=>d.blurHandler&&d.blurHandler(...e))},e.$attrs,{class:["custom-input",!i.isValid&&"custom-input--error"],placeholder:a.placeholder,style:{width:a.width}}),null,16,l),i.isValid?(0,n.g1)("",!0):((0,n.Wz)(),(0,n.An)("span",o,(0,s.WA)(i.error),1))])}var i={name:"CustomInput",data(){return{isValid:!0,error:""}},props:{modelValue:String,placeholder:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},width:{type:String,default:"220px"}},inheritAttrs:!1,methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)},validate(e){this.isValid=this.rules.every((t=>{const{hasPassed:a,message:n}=t(e);return a||(this.error=n||this.errorMessage),a}))},blurHandler(){this.validate(this.modelValue)}}},d=a(4100);const c=(0,d.c)(i,[["render",u],["__scopeId","data-v-67102aee"]]);var p=c},6526:function(e,t,a){a.d(t,{c:function(){return u}});var n=a(4108);function s(e,t,a,s,r,l){return(0,n.Wz)(),(0,n.Az)((0,n.mk)(l.tagName),{class:"main-title"},{default:(0,n.Ql)((()=>[(0,n.oF)(e.$slots,"default",{},void 0,!0)])),_:3})}var r={name:"MainTitle",props:{level:{type:Number,default:1}},computed:{tagName(){return`h${this.level}`}}},l=a(4100);const o=(0,l.c)(r,[["render",s],["__scopeId","data-v-9b310a5a"]]);var u=o},9576:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(4108);const s={class:"login"};function r(e,t,a,r,l,o){const u=(0,n.E1)("AppLogin"),i=(0,n.E1)("AuthSection");return(0,n.Wz)(),(0,n.An)("main",s,[(0,n.K2)(i,null,{default:(0,n.Ql)((()=>[(0,n.K2)(u)])),_:1})])}var l=a(7764);function o(e,t,a,s,r,o){const u=(0,n.E1)("MainTitle"),i=(0,n.E1)("CustomInput"),d=(0,n.E1)("ButtonVue"),c=(0,n.E1)("AuthContainer");return(0,n.Wz)(),(0,n.Az)(c,{class:"login"},{default:(0,n.Ql)((()=>[(0,n.K2)(u,{class:"login__title"},{default:(0,n.Ql)((()=>[(0,n.mY)("Login")])),_:1}),(0,n.QD)("form",{class:"login__form",onSubmit:t[2]||(t[2]=(0,l.Y7)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[(0,n.K2)(i,{modelValue:r.formData.email,"onUpdate:modelValue":t[0]||(t[0]=e=>r.formData.email=e),placeholder:"Email",autocomplete:"email",name:"email",rules:o.emailRules,class:"login__input"},null,8,["modelValue","rules"]),(0,n.K2)(i,{modelValue:r.formData.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.formData.password=e),placeholder:"Password",autocomplete:"current-password",type:"password",name:"password",rules:o.passwordRules,class:"login__input"},null,8,["modelValue","rules"]),(0,n.K2)(d,{class:"btn-dark",type:"submit",label:"Вхід",loading:e.loading},null,8,["loading"])],32)])),_:1})}a(3248);var u=a(3656),i=a(576),d=a(5356),c=a(6526),p=a(8396),m={name:"AppLogin",components:{CustomInput:u.c,ButtonVue:i.c,AuthContainer:d.c,MainTitle:c.c},data(){return{formData:{email:"",password:""}}},computed:{rules(){return{emailValidation:p.e9,passwordValidation:p.MX,isRequired:p.UD}},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},passwordRules(){return[this.rules.isRequired]}},methods:{async handleSubmit(){this.loading=!0;const e=Object.values(this.$refs).every((e=>e.isValid));if(e)try{this.$store.dispatch("technicial/startLoading"),await this.$store.dispatch("auth/login",this.formData),this.resetForm(),this.$router.push({name:"homepage"})}catch(t){this.$notify({type:"error",title:"We received an error",text:t.message})}finally{this.$store.dispatch("technicial/stopLoading")}},resetForm(){this.formData={name:"",email:"",password:"",confirmPassword:""}}}},h=a(4100);const f=(0,h.c)(m,[["render",o],["__scopeId","data-v-7c618cac"]]);var g=f,v=a(6852),y={name:"LoginPage",components:{AppLogin:g,AuthSection:v.c}};const _=(0,h.c)(y,[["render",r]]);var A=_}}]);
//# sourceMappingURL=576.36a3d1de.js.map