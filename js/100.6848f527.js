"use strict";(self["webpackChunkapartment_rent"]=self["webpackChunkapartment_rent"]||[]).push([[100],{8396:function(e,t,a){a.d(t,{Ck:function(){return i},GW:function(){return d},MX:function(){return s},Mw:function(){return o},U3:function(){return n},UD:function(){return l},e4:function(){return u},e9:function(){return r},kL:function(){return c}});const l=e=>({hasPassed:!!e,message:"Будь ласка, заповніть це поле"}),i=e=>t=>({hasPassed:t.length<=e,message:"Ви перевищили ліміт"}),r=e=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e),message:"Невірна адреса пошти"}),s=e=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(e),message:"Пароль повинен містити одну цифру й один символ"}),n=e=>t=>({hasPassed:t.length<=e,message:"Ви перевищили ліміт"}),o=e=>t=>({hasPassed:t.length<=e,message:"Ви перевищили ліміт, можливо використати 300 символів"}),u=e=>t=>({hasPassed:t.length>=e,message:`Вкажіть більше ніж ${e} символ(а/ів)`}),c=e=>({hasPassed:/^\+?[\d\s\-()]{10,15}$/.test(e),message:"Невірний номер телефону"}),d=e=>{const t=Number(e);return{hasPassed:!isNaN(t)&&t>=1&&t<=20,message:"Число повинно бути від 1 до 20"}}},576:function(e,t,a){a.d(t,{c:function(){return c}});var l=a(4108),i=a(9096);const r=["type"];function s(e,t,a,s,n,o){return(0,l.Wz)(),(0,l.An)("button",(0,l.Gu)({type:a.type},e.$attrs,{class:[a.styleType],onClick:t[0]||(t[0]=(...e)=>o.handleClick&&o.handleClick(...e)),style:{height:a.height}}),(0,i.WA)(a.label),17,r)}var n={name:"ButtonVue",props:{type:{type:String,default:"button"},styleType:{type:String,default:"btn-dark"},label:{type:String,default:"Натисніть мене"},height:{type:String,default:"40px"}},methods:{handleClick(){}}},o=a(4100);const u=(0,o.c)(n,[["render",s],["__scopeId","data-v-bfb273a8"]]);var c=u},3656:function(e,t,a){a.d(t,{c:function(){return m}});var l=a(4108),i=a(9096);const r={class:"wrapper-input"},s=["value","placeholder"],n={key:0,class:"custom-input__error"};function o(e,t,a,o,u,c){return(0,l.Wz)(),(0,l.An)("div",r,[(0,l.QD)("input",(0,l.Gu)({value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>c.updateValue&&c.updateValue(...e)),onBlur:t[1]||(t[1]=(...e)=>c.blurHandler&&c.blurHandler(...e))},e.$attrs,{class:["custom-input",!u.isValid&&"custom-input--error"],placeholder:a.placeholder,style:{width:a.width}}),null,16,s),u.isValid?(0,l.g1)("",!0):((0,l.Wz)(),(0,l.An)("span",n,(0,i.WA)(u.error),1))])}var u={name:"CustomInput",data(){return{isValid:!0,error:""}},props:{modelValue:String,placeholder:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},width:{type:String,default:"220px"}},inheritAttrs:!1,methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)},validate(e){this.isValid=this.rules.every((t=>{const{hasPassed:a,message:l}=t(e);return a||(this.error=l||this.errorMessage),a}))},blurHandler(){this.validate(this.modelValue)}}},c=a(4100);const d=(0,c.c)(u,[["render",o],["__scopeId","data-v-67102aee"]]);var m=d},9340:function(e,t,a){a.d(t,{c:function(){return d}});var l=a(4108),i=a(9096);const r=["value"],s=["value"];function n(e,t,a,n,o,u){return(0,l.Wz)(),(0,l.An)("select",{value:a.modelValue,onChange:t[0]||(t[0]=(...e)=>u.updateValue&&u.updateValue(...e)),class:(0,i.WN)([a.styleType]),style:(0,i.MN)({width:a.width})},[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(u.formatedItems,(e=>((0,l.Wz)(),(0,l.An)("option",{key:e.value,value:e.value},(0,i.WA)(e.label),9,s)))),128))],46,r)}var o={name:"CustomSelect",props:{modelValue:{type:String,default:""},items:{type:Array,required:!0},styleType:{type:String,default:"custom-select"},width:{type:String,default:"220px"}},computed:{formatedItems(){return this.items.map((e=>"object"===typeof e?e:{value:e,label:e}))}},methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)}}},u=a(4100);const c=(0,u.c)(o,[["render",n],["__scopeId","data-v-4805f5c3"]]);var d=c},6526:function(e,t,a){a.d(t,{c:function(){return o}});var l=a(4108);function i(e,t,a,i,r,s){return(0,l.Wz)(),(0,l.Az)((0,l.mk)(s.tagName),{class:"main-title"},{default:(0,l.Ql)((()=>[(0,l.oF)(e.$slots,"default",{},void 0,!0)])),_:3})}var r={name:"MainTitle",props:{level:{type:Number,default:1}},computed:{tagName(){return`h${this.level}`}}},s=a(4100);const n=(0,s.c)(r,[["render",i],["__scopeId","data-v-9b310a5a"]]);var o=n},1820:function(e,t,a){a.d(t,{c:function(){return m}});var l=a(4108),i=a(9096);const r={key:0},s={key:1},n={class:"btn-wrapper"};function o(e,t,a,o,u,c){return(0,l.Wz)(),(0,l.An)("div",null,[((0,l.Wz)(),(0,l.Az)((0,l.mk)(c.tagName),{class:(0,i.WN)(["regular-text",c.alignmentClass])},{default:(0,l.Ql)((()=>[!c.isTextLong||u.showMore?((0,l.Wz)(),(0,l.An)("span",r,[(0,l.oF)(e.$slots,"default",{},void 0,!0)])):((0,l.Wz)(),(0,l.An)("span",s,(0,i.WA)(c.shortText),1))])),_:3},8,["class"])),(0,l.QD)("div",n,[c.isTextLong?((0,l.Wz)(),(0,l.An)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>c.toggleText&&c.toggleText(...e))},(0,i.WA)(u.showMore?"Згорнути":"Читати ще..."),1)):(0,l.g1)("",!0)])])}var u={name:"RegularText",props:{tag:{type:String,default:"p"},alignment:{type:String,default:"left",validator(e){return["left","center"].includes(e)}}},data(){return{showMore:!1}},computed:{tagName(){return this.tag},alignmentClass(){return"center"===this.alignment?"text-center":"text-left"},isTextLong(){return this.fullText.length>700},shortText(){return this.fullText.slice(0,700)+"..."},fullText(){const e=this.$slots.default();return e.map((e=>e.children)).join("")}},methods:{toggleText(){this.showMore=!this.showMore}}},c=a(4100);const d=(0,c.c)(u,[["render",o],["__scopeId","data-v-75f239c0"]]);var m=d},940:function(e,t,a){a.d(t,{c:function(){return u}});var l=a(4108);const i={class:"section-spacer"};function r(e,t,a,r,s,n){return(0,l.Wz)(),(0,l.An)("div",i,[(0,l.oF)(e.$slots,"default",{},void 0,!0)])}var s={name:"SectionSpacer"},n=a(4100);const o=(0,n.c)(s,[["render",r],["__scopeId","data-v-0b9152e8"]]);var u=o},3868:function(e,t,a){a.d(t,{c:function(){return d}});var l=a(4108),i=a(9096);const r=["src"],s={class:"service-item__name"};function n(e,t,a,n,o,u){return(0,l.Wz)(),(0,l.An)("div",{class:(0,i.WN)(["service-item",[{selected:o.isSelected},{selectable:a.selectable}]]),onClick:t[0]||(t[0]=(...e)=>u.toggleSelection&&u.toggleSelection(...e))},[(0,l.QD)("img",{src:a.service.icon,alt:"Іконка сервісу",class:"service-item__image"},null,8,r),(0,l.QD)("span",s,(0,i.WA)(a.service.name),1)],2)}var o={name:"ServicesInfo",props:{service:{type:Object,required:!0},selectable:{type:Boolean,default:!0}},data(){return{isSelected:!1}},methods:{toggleSelection(){this.selectable&&(this.isSelected=!this.isSelected,this.$emit("toggle-selection",this.service.name,this.isSelected))}}},u=a(4100);const c=(0,u.c)(o,[["render",n],["__scopeId","data-v-201b394f"]]);var d=c},3028:function(e,t,a){a.r(t),a.d(t,{default:function(){return oe}});var l=a(4108);function i(e,t,a,i,r,s){const n=(0,l.E1)("ApartmentRegister"),o=(0,l.E1)("SectionWithHeaderSpacer");return(0,l.Wz)(),(0,l.Az)(o,null,{default:(0,l.Ql)((()=>[(0,l.K2)(n)])),_:1})}var r=a(7764),s=a(9096),n=a.p+"img/left.3903720b.svg",o=a.p+"img/left_inactive.039a2cc5.svg",u=a.p+"img/right.d7e364c5.svg",c=a.p+"img/right_inactive.42ca3f3d.svg";const d={class:"register__part"},m={class:"register__part"},p={class:"register__part-address"},h={class:"register__part"},g={class:"register__part"},f={class:"services-grid"},v={class:"register__part"},y={class:"register__part-address"},V={class:"register__part"},_={class:"register__part-address"},A={class:"register__part"},S={class:"register__part-price"},D={class:"register__part"},b={class:"register__part-photo"},C={class:"register__part"},w={class:"register__part-photo"},x={key:0,class:"slider"},I=["disabled"],R={class:"slider-container"},W=["disabled"],Q={class:"btn-wrapper"};function k(e,t,a,i,k,z){const U=(0,l.E1)("MainTitle"),N=(0,l.E1)("RegularText"),K=(0,l.E1)("CustomInput"),T=(0,l.E1)("CustomSelect"),L=(0,l.E1)("CustomTextArea"),P=(0,l.E1)("ServicesInfo"),q=(0,l.E1)("FormInputFile"),F=(0,l.E1)("ButtonVue"),M=(0,l.E1)("AppContainer");return(0,l.Wz)(),(0,l.Az)(M,{class:"register"},{default:(0,l.Ql)((()=>[(0,l.K2)(U,{class:"register__title"},{default:(0,l.Ql)((()=>[(0,l.mY)("Реєстрація помешканя")])),_:1}),(0,l.QD)("form",{class:"register__form",onSubmit:t[18]||(t[18]=(0,r.Y7)(((...e)=>z.handleSubmit&&z.handleSubmit(...e)),["prevent"]))},[(0,l.QD)("div",d,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Вкажіть назву вашого житла")])),_:1}),(0,l.K2)(K,{ref:"nameInput",modelValue:k.formData.title,"onUpdate:modelValue":t[0]||(t[0]=e=>k.formData.title=e),placeholder:"Назва помешкання",autocomplete:"title",name:"title",rules:z.titleRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"])]),(0,l.QD)("div",m,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Вкажіть адресу")])),_:1}),(0,l.QD)("div",p,[(0,l.K2)(T,{items:z.cities,modelValue:k.formData.location.city,"onUpdate:modelValue":t[1]||(t[1]=e=>k.formData.location.city=e),class:"custom-select",width:"334px"},null,8,["items","modelValue"]),(0,l.K2)(K,{ref:"streetInput",modelValue:k.formData.location.street,"onUpdate:modelValue":t[2]||(t[2]=e=>k.formData.location.street=e),placeholder:"вулиця",autocomplete:"street",name:"street",rules:z.streetRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"]),(0,l.K2)(K,{ref:"buildingInput",modelValue:k.formData.location.building,"onUpdate:modelValue":t[3]||(t[3]=e=>k.formData.location.building=e),placeholder:"будинок",autocomplete:"building",name:"building",rules:z.buildingRules,class:"custom-input",width:"90px"},null,8,["modelValue","rules"]),(0,l.K2)(K,{ref:"apartmentInput",modelValue:k.formData.location.apartment,"onUpdate:modelValue":t[4]||(t[4]=e=>k.formData.location.apartment=e),placeholder:"квартира",autocomplete:"apartment",name:"apartment",class:"custom-input",width:"90px"},null,8,["modelValue"])])]),(0,l.QD)("div",h,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Додайте детальний опис житла")])),_:1}),(0,l.K2)(L,{ref:"nameInput",modelValue:k.formData.descr,"onUpdate:modelValue":t[5]||(t[5]=e=>k.formData.descr=e),placeholder:"Description",autocomplete:"description",name:"description",rules:z.descrRules,class:"custom-input",width:"100%"},null,8,["modelValue","rules"])]),(0,l.QD)("div",g,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Оберіть додаткові опції")])),_:1}),(0,l.QD)("div",f,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(z.services,(e=>((0,l.Wz)(),(0,l.Az)(P,{key:e.name+k.servicesKey,service:e,onToggleSelection:z.addToServiceList},null,8,["service","onToggleSelection"])))),128))])]),(0,l.QD)("div",v,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Вкажіть контактну інформацію")])),_:1}),(0,l.QD)("div",y,[(0,l.K2)(K,{ref:"ownerNameInput",modelValue:k.formData.owner.name,"onUpdate:modelValue":t[6]||(t[6]=e=>k.formData.owner.name=e),placeholder:"Im'я",autocomplete:"ownerName",name:"ownerName",rules:z.ownerNameRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"]),(0,l.K2)(K,{ref:"ownerPhoneInput",modelValue:k.formData.owner.phone,"onUpdate:modelValue":t[7]||(t[7]=e=>k.formData.owner.phone=e),placeholder:"телефон",autocomplete:"ownerPhone",name:"ownerPhone",rules:z.phoneRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"]),(0,l.K2)(K,{ref:"ownerEmailInput",modelValue:k.formData.owner.email,"onUpdate:modelValue":t[8]||(t[8]=e=>k.formData.owner.email=e),placeholder:"email",autocomplete:"ownerEmail",name:"ownerEmail",rules:z.emailRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"])])]),(0,l.QD)("div",V,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Вкажіть можливість розселення")])),_:1}),(0,l.QD)("div",_,[(0,l.K2)(K,{ref:"accommodationRooms",modelValue:k.formData.accommodation.livingRooms,"onUpdate:modelValue":t[9]||(t[9]=e=>k.formData.accommodation.livingRooms=e),placeholder:"к-ть житлових кімнат",autocomplete:"accommodationRooms",name:"accommodationRooms",rules:z.qtyRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"]),(0,l.K2)(K,{ref:"accommodationAdults",modelValue:k.formData.accommodation.qtyAdults,"onUpdate:modelValue":t[10]||(t[10]=e=>k.formData.accommodation.qtyAdults=e),placeholder:"к-ть розміщення дорослих",autocomplete:"accommodationAdults",name:"accommodationAdults",rules:z.qtyRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"]),(0,l.K2)(K,{ref:"accommodationChildrens",modelValue:k.formData.accommodation.qtyChildrens,"onUpdate:modelValue":t[11]||(t[11]=e=>k.formData.accommodation.qtyChildrens=e),placeholder:"к-ть розміщення дітей",autocomplete:"accommodationChildrens",name:"accommodationChildrens",rules:z.qtyRules,class:"custom-input",width:"300px"},null,8,["modelValue","rules"])])]),(0,l.QD)("div",A,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Вкажіть ціну")])),_:1}),(0,l.QD)("div",S,[(0,l.K2)(K,{ref:"priceValueInput",modelValue:k.formData.price.value,"onUpdate:modelValue":t[12]||(t[12]=e=>k.formData.price.value=e),placeholder:"ціна за добу",autocomplete:"priceValue",name:"priceValue",rules:z.priceRules,class:"custom-input",width:"120px"},null,8,["modelValue","rules"]),(0,l.K2)(T,{items:z.currencies,modelValue:k.formData.price.currency,"onUpdate:modelValue":t[13]||(t[13]=e=>k.formData.price.currency=e),class:"custom-select",width:"95px"},null,8,["items","modelValue"])])]),(0,l.QD)("div",D,[(0,l.K2)(N,{tag:"p",alignment:"left"},{default:(0,l.Ql)((()=>[(0,l.mY)("Додайте фотографії")])),_:1}),(0,l.QD)("div",b,[k.mainImageUrl?((0,l.Wz)(),(0,l.An)("div",{key:0,class:"uploaded-image",style:(0,s.MN)({backgroundImage:"url("+k.mainImageUrl+")"})},null,4)):(0,l.g1)("",!0),(0,l.K2)(q,{name:"mainPhoto",accept:"image/png, image/jpeg",multiple:!1,single:!0,label:"Завантажити основну фотографію",onChange:z.handleMainPhotoChange},null,8,["onChange"])])]),(0,l.QD)("div",C,[(0,l.QD)("div",w,[k.otherImageUrls.length>0?((0,l.Wz)(),(0,l.An)("div",x,[(0,l.QD)("button",{type:"button",class:"slider-button",style:{marginLeft:"20px"},disabled:!z.isPrevButtonActive},[z.isPrevButtonActive?((0,l.Wz)(),(0,l.An)("img",{key:0,src:n,alt:"Previous Slide",class:"slider-icon",onClick:t[14]||(t[14]=(...e)=>z.prevSlide&&z.prevSlide(...e))})):(0,l.g1)("",!0),z.isPrevButtonActive?(0,l.g1)("",!0):((0,l.Wz)(),(0,l.An)("img",{key:1,src:o,alt:"Previous Slide",class:"slider-icon",onClick:t[15]||(t[15]=(...e)=>z.prevSlide&&z.prevSlide(...e))}))],8,I),(0,l.QD)("div",R,[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(z.displayedImages,((e,t)=>((0,l.Wz)(),(0,l.An)("div",{key:t,class:"slider-image"},[(0,l.QD)("div",{class:"image",style:(0,s.MN)({backgroundImage:"url("+e+")"})},null,4)])))),128))]),(0,l.QD)("button",{type:"button",class:"slider-button",style:{marginRight:"20px"},disabled:!z.isNextButtonActive},[z.isNextButtonActive?((0,l.Wz)(),(0,l.An)("img",{key:0,src:u,alt:"Next Slide",class:"slider-icon",onClick:t[16]||(t[16]=(...e)=>z.nextSlide&&z.nextSlide(...e))})):(0,l.g1)("",!0),z.isNextButtonActive?(0,l.g1)("",!0):((0,l.Wz)(),(0,l.An)("img",{key:1,src:c,alt:"Next Slide",class:"slider-icon",onClick:t[17]||(t[17]=(...e)=>z.nextSlide&&z.nextSlide(...e))}))],8,W)])):(0,l.g1)("",!0),(0,l.K2)(q,{name:"otherPhotos",accept:"image/png, image/jpeg",multiple:!0,single:!1,label:"Завантажити інші фотографії",onMultipleChange:z.handleOtherPhotoChange},null,8,["onMultipleChange"])])]),(0,l.QD)("div",Q,[(0,l.K2)(F,{class:"btn-dark",type:"submit",label:"Зареєструвати",loading:e.loading,height:"49px"},null,8,["loading"])])],32)])),_:1})}a(3248);var z=a(3408),U=a(6526),N=a(1820),K=a(3656),T=a(9340);const L={class:"wrapper-textarea"},P=["value","placeholder"],q={key:0,class:"custom-textarea__error"};function F(e,t,a,i,r,n){return(0,l.Wz)(),(0,l.An)("div",L,[(0,l.QD)("textarea",(0,l.Gu)({value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>n.updateValue&&n.updateValue(...e)),onBlur:t[1]||(t[1]=(...e)=>n.blurHandler&&n.blurHandler(...e))},e.$attrs,{class:["custom-textarea",!r.isValid&&"custom-textarea--error"],placeholder:a.placeholder,style:{width:a.width}}),null,16,P),r.isValid?(0,l.g1)("",!0):((0,l.Wz)(),(0,l.An)("span",q,(0,s.WA)(r.error),1))])}var M={name:"CustomTextArea",data(){return{isValid:!0,error:""}},props:{modelValue:String,placeholder:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]},width:{type:String,default:"220px"}},inheritAttrs:!1,methods:{updateValue(e){this.$emit("update:modelValue",e.target.value)},validate(e){this.isValid=this.rules.every((t=>{const{hasPassed:a,message:l}=t(e);return a||(this.error=l||this.errorMessage),a}))},blurHandler(){this.validate(this.modelValue)}}},$=a(4100);const E=(0,$.c)(M,[["render",F],["__scopeId","data-v-1b659cbe"]]);var B=E,H=a(576),Y=a(3868);const O=["for"],j=["id","multiple"];function G(e,t,a,i,r,n){return(0,l.Wz)(),(0,l.An)("div",{class:"box",onClick:t[2]||(t[2]=(...t)=>e.handleClick&&e.handleClick(...t))},[(0,l.QD)("label",{for:a.name,class:"label"},(0,s.WA)(a.label),9,O),(0,l.QD)("input",{type:"file",id:a.name,accept:"image/png, image/jpeg",style:{display:"none"},multiple:a.multiple,onChange:t[0]||(t[0]=(...e)=>n.handleFileChange&&n.handleFileChange(...e)),"on:multipleChange":t[1]||(t[1]=(...e)=>n.handleFileChange&&n.handleFileChange(...e))},null,40,j)])}var Z={name:"FormInputFile",props:{name:{type:String,required:!0},multiple:{type:Boolean,default:!1},single:{type:Boolean,default:!1},onChange:{type:Function},onMultipleChange:{type:Function},label:{type:String,required:!0}},methods:{handleFileChange(e){const t=e.target.files;this.multiple?this.onMultipleChange(t):this.onChange&&this.onChange(t[0])}}};const J=(0,$.c)(Z,[["render",G],["__scopeId","data-v-d6633250"]]);var X=J,ee=a(8396);function te(e,t,a,l){const i=new FileReader;i.onload=e=>{const i=new Image;i.onload=()=>{const e=document.createElement("canvas"),r=e.getContext("2d");let s=i.width,n=i.height;s>n?s>t&&(n*=t/s,s=t):n>a&&(s*=a/n,n=a),e.width=s,e.height=n,r.drawImage(i,0,0,s,n);const o=e.toDataURL("image/jpeg");l(o)},i.src=e.target.result},i.readAsDataURL(e)}var ae={name:"ApartmentRegister",components:{AppContainer:z.c,MainTitle:U.c,RegularText:N.c,CustomInput:K.c,CustomSelect:T.c,CustomTextArea:B,ButtonVue:H.c,ServicesInfo:Y.c,FormInputFile:X},data(){return{serviceList:[],mainImageUrl:"",otherImageUrls:[],currentSlide:0,servicesKey:0,formData:{title:"",location:{city:"Київ",street:"",building:"",apartment:""},accommodation:{livingRooms:"",qtyAdults:"",qtyChildrens:""},descr:"",owner:{email:"",name:"",phone:""},price:{value:"",currency:"UAH"},imageContainer:{mainImageName:"",imageFiles:[]}}}},computed:{isPrevButtonActive(){return this.currentSlide>0},isNextButtonActive(){return 2*(this.currentSlide+1)<this.otherImageUrls.length},cities(){const e=this.$store.state.technicial.cities,t=e.slice(1);return[{value:"Київ",label:"Київ",selected:!1},...t]},currencies(){const e=this.$store.state.technicial.currency,t=e.slice(1);return[{value:"UAH",label:"UAH",selected:!1},...t]},services(){return this.$store.state.technicial.services},rules(){return{isRequired:ee.UD,descrLimit:ee.U3,titleLimit:ee.Mw,phoneValidation:ee.kL,emailValidation:ee.e9,minTextLimit:ee.e4,numberValidation:ee.GW}},descrRules(){return[this.rules.isRequired,this.rules.descrLimit(2e3)]},titleRules(){return[this.rules.isRequired,this.rules.titleLimit(200)]},streetRules(){return[this.rules.isRequired,this.rules.descrLimit(50)]},buildingRules(){return[this.rules.isRequired,this.rules.descrLimit(4)]},ownerNameRules(){return[this.rules.isRequired,this.rules.minTextLimit(2)]},emailRules(){return[this.rules.isRequired,this.rules.emailValidation]},phoneRules(){return[this.rules.isRequired,this.rules.phoneValidation]},priceRules(){return[this.rules.isRequired,this.rules.descrLimit(4)]},qtyRules(){return[this.rules.isRequired,this.rules.numberValidation]},displayedImages(){const e=2*this.currentSlide;return this.otherImageUrls.slice(e,e+2)}},methods:{resetSelectedServices(){this.serviceList=[],this.services.forEach((e=>{e.isSelected=!1}))},prevSlide(){this.currentSlide>0&&this.currentSlide--},nextSlide(){2*(this.currentSlide+1)<this.otherImageUrls.length&&this.currentSlide++},addToServiceList(e){const t=this.serviceList.indexOf(e);-1===t?this.serviceList.push(e):this.serviceList.splice(t,1)},handleMainPhotoChange(e){e&&(this.formData.imageContainer.mainImageName=e.name,this.formData.imageContainer.imageFiles.push(e),te(e,500,500,(e=>{this.mainImageUrl=e})))},handleOtherPhotoChange(e){Array.from(e).forEach((e=>{this.formData.imageContainer.imageFiles.push(e),te(e,500,500,(e=>{this.otherImageUrls.push(e)}))}))},async handleSubmit(){const e=Object.values(this.$refs).every((e=>e.isValid));if(e){const e=new FormData;e.append("title",this.formData.title),e.append("location",JSON.stringify(this.formData.location)),e.append("description",this.formData.descr),e.append("owner",JSON.stringify(this.formData.owner)),e.append("accommodation",JSON.stringify(this.formData.accommodation)),e.append("price",JSON.stringify(this.formData.price)),e.append("servicesList",this.serviceList),e.append("mainImage",this.formData.imageContainer.mainImageName),this.formData.imageContainer.imageFiles.forEach((t=>{e.append("files",t)}));try{this.$store.dispatch("technicial/startLoading"),await this.$store.dispatch("apartment/apartmentCreate",e),this.resetForm()}catch(t){this.$notify({type:"error",title:"Помилка",text:t.message})}finally{this.$store.dispatch("technicial/stopLoading")}}},resetForm(){this.serviceList=[],this.mainImageUrl="",this.otherImageUrls=[],this.currentSlide=0,this.formData={title:"",location:{city:"Київ",street:"",building:"",apartment:""},descr:"",owner:{email:"",name:"",phone:""},accommodation:{livingRooms:"",qtyAdults:"",qtyChildrens:""},price:{value:"",currency:"UAH"},imageContainer:{mainImageName:"",imageFiles:[]}},this.servicesKey++}}};const le=(0,$.c)(ae,[["render",k],["__scopeId","data-v-1a743333"]]);var ie=le,re=a(940),se={name:"RegisterApartmentPage",components:{ApartmentRegister:ie,SectionWithHeaderSpacer:re.c}};const ne=(0,$.c)(se,[["render",i]]);var oe=ne}}]);
//# sourceMappingURL=100.6848f527.js.map